function includeHtml(e){$.ajax({url:e,cache:!0,success:function(e){$("#add-snippets-modal").modal("hide"),$(thisDest).after("<div class='snippet container' contenteditable><i class='delete-button fa fa-close fa-3x'></i>"+e+"</div> <div class='inserting-area text-center my-5'><i class='fa fa-plus fa-3x'></i></div>"),$(".inserting-area i").unbind("click"),iconpickerListener(),addSnippetListener(),changeImageListener(),changeLinkListener(),socIconsEditorListener(),$("i, a, .editable-img-container").attr("contenteditable","false"),$("i.delete-button").click(function(){removeSnippet($(this).parent(".snippet"))})}})}function removeSnippet(e){$(e).next().remove(),$(e).remove(),1==$(".inserting-area").length&&($("#content").addClass("start-screen"),$("#save-page").hide())}function loadSnippetsThumbnails(e){$("#add-snippets-modal .thumbnails-block").empty();var a=JSON.search(snippetPack,'//*[categoryName="'+e+'"]/folderName'),o=JSON.search(snippetPack,'//*[categoryName="'+e+'"]/snippets');$.each(o,function(e,o){$("#add-snippets-modal .thumbnails-block").append("<img src='img/snippetsThumbnails/"+a+"/"+o+".png' class='img-fluid' id='"+o+"'>")}),$("#add-snippets-modal .thumbnails-block img").click(function(){includeHtml("snippets/"+a+"/"+$(this).attr("id")+".html"),$("#content").removeClass("start-screen"),$("#save-page").show()})}function addSnippetListener(){$(".inserting-area i").click(function(){thisDest=$(this).parent(),$("#add-snippets-modal").modal("show"),$("#add-snippets-modal").on("shown.bs.modal",function(){0==$(".list-group-item.active").length&&$(".list-group-item:first-of-type").click()}),$(".list-group-item").click(function(){$(".list-group-item.active").removeClass("active");var e=$(this).text().trim();$(this).addClass("active"),loadSnippetsThumbnails(e)})})}function changeImageListener(){$(".editable-img-container").hover(function(e){var a=$(this).children("img");a.after("<div class='pouring'></div><div class='img-upload'><label for='upload-img'><i class='fa fa-picture-o fa-5x'></i></label></div>"),$(this).children("div").show(0,function(){$(".img-upload").addClass("d-flex"),$(".img-upload label").click(function(e){$(this).after("<input type='file' name='file' id='upload-img' accept='image/*'/>");var o,t=document.getElementById("upload-img");t.addEventListener("change",function(e){o=t.files[0],imageUrl=URL.createObjectURL(o),a.attr("src",imageUrl),e.stopImmediatePropagation()},!1),e.stopImmediatePropagation()}),e.stopImmediatePropagation()})},function(){$(this).children("div").remove()})}function changeLinkListener(){$("a.editable").popover({trigger:"manual",placement:"bottom",html:!0,content:"<p class='my-3'>Text <input type='text' id='newLinkText' class='mx-2'></p><p class=''>Link <input id='newLink' type='text' class='mx-2'></p>"}).on("mouseenter",function(){var e=this,a=function(){$(e).text($("#newLinkText").val()),$(e).attr("href",$("#newLink").val())};$(this).popover("show"),$(this).on("shown.bs.popover",function(){$("#newLinkText").val($(e).text()),$("#newLink").val($(e).attr("href"))}),$(".popover input").keypress(function(o){13==o.keyCode&&(a(),$(e).popover("hide"))}),$(".popover").on("mouseleave",function(){$(e).popover("hide")})}).on("mouseleave",function(){var e=this;setTimeout(function(){$(".popover:hover").length||$(e).popover("hide")},100)})}function socIconsEditorListener(){function e(e){$(e).css("max-width","100%").css("width","100%"),n=parseInt($(e).width()/$(e).children("a").width()),n<$(e).children("a").length?$(e).css("max-width",n*$(e).children("a").width()):$(e).removeAttr("style")}$(".icons_block.editable").popover({trigger:"manual",placement:"right",html:!0,offset:"0 -10px",content:"<i class='fa fa-pencil fa-2x m-2' id='edit-icons'></i>"}).on("mouseenter",function(a){e($(this)),$(this).popover("show"),$(this).on("shown.bs.popover",function(e){_this=this,$("#edit-icons").parent().click(function(e){$(_this).popover("hide"),$("#soc-icons-editor-modal").modal("show"),$("#soc-icons-editor-modal .table").empty(),$("#soc-icons-editor-modal").on("shown.bs.modal",function(e){$("#icons i").click(function(e){var a;a=null!=$(this).data("userName")?$(this).data("userName"):"";var o=$(this).clone().removeClass("fa-1x m-2").addClass("fa-2x");$("#socIconEditor .table").append("<div class='d-flex flex-row justify-content-center align-items-center my-3'>"+o.prop("outerHTML")+"<input type='text' value='"+a+"'/><i class='fa fa-close fa-2x ml-4 mr-3'></i></div>"),$("i.fa-close").click(function(){$(this).parent().remove()}),e.stopImmediatePropagation()}),$.each($(_this).find("i"),function(e,a){thisIcon=$(a).clone(),classes=$(thisIcon).attr("class"),faIconClass=classes.match(/fa-[\S\w\-]*/g),link=$(a).parent("a").attr("href"),rootLink=$("#icons i[data-fa-class='"+faIconClass+"']").attr("data-link"),userName=link.split(rootLink)[1],$("#icons i."+faIconClass).data("userName",userName).click(),$("i.fa-close").click(function(){$(this).parent().remove()})}),$("#complete").click(function(e){$(_this).empty(),$.each($("#socIconEditor .table .flex-row i:first-of-type"),function(e,a){var o=$(a).attr("data-link")+$(a).siblings("input").val();$(_this).append("<a href='"+o+"' target='_blank' contenteditable='false'>"+$(a).clone().removeClass("fa-2x").prop("outerHTML")+"</a>")}),$(_this).hasClass("color_icons")&&$.each($(_this).find("i"),function(e,a){$(a).addClass($(a).attr("data-color"))}),$("#soc-icons-editor-modal").modal("hide"),e.stopImmediatePropagation()}),e.stopImmediatePropagation()}),e.stopImmediatePropagation()}),e.stopImmediatePropagation()}),a.stopImmediatePropagation(),$(".popover").on("mouseleave",function(){$(_this).removeAttr("style"),$(_this).popover("hide")})}).on("mouseleave",function(){var e=this;setTimeout(function(){$(".popover:hover").length||($(e).removeAttr("style"),$(e).popover("hide"))},100)})}function iconpickerListener(){$("#iconpicker-modal .srchicons").keyup(function(){filter=$(this).val(),count=0,$("#iconpicker-modal .geticonval").each(function(){$(this).children("i").data("icon-class").search(new RegExp(filter,"i"))<0?$(this).fadeOut():($(this).show(),count++)})}),$("i.editable").click(function(e){$("#iconpicker-modal .srchicons").val(""),$("#iconpicker-modal .geticonval").show(),thisIcon=this,classes=$(thisIcon).attr("class"),faClasses=classes.match(/fa-[\S\w\-]*/g),iconSizeClass=classes.match(/fa-\dx/),faClasses.splice(faClasses.indexOf(iconSizeClass),1),$("#iconpicker-modal").modal("show"),$("#iconpicker-modal").on("shown.bs.modal",function(e){$("#iconpicker-modal .geticonval").click(function(){var e=$(this).children("i").data("icon-class");$(thisIcon).attr("class",classes.replace(faClasses,"fa-"+e)),$("#iconpicker-modal").modal("hide"),thisIcon=null})}),e.stopImmediatePropagation()})}var snippetPack,thisDest;$(function(){startScreen=$(".start-screen").clone(),$.getJSON("json/snippetPack.json",function(e){snippetPack=e}),$.getJSON("json/socialIcons.json",function(e){socialIcons=e,$.each(socialIcons,function(e,a){$("#icons").append("<i class='fa "+a.faClass+" fa-1x m-2' data-link='"+a.link+"' data-color='"+a.color+"' data-fa-class='"+a.faClass+"'></i>")})});for(var e="500px address-book address-book-o address-card address-card-o adjust adn align-center align-justify align-left align-right amazon ambulance american-sign-language-interpreting anchor android angellist angle-double-down angle-double-left angle-double-right angle-double-up angle-down angle-left angle-right angle-up apple archive area-chart arrow-circle-down arrow-circle-left arrow-circle-o-down arrow-circle-o-left arrow-circle-o-right arrow-circle-o-up arrow-circle-right arrow-circle-up arrow-down arrow-left arrow-right arrow-up arrows arrows-alt arrows-h arrows-v asl-interpreting assistive-listening-systems asterisk at audio-description automobile backward balance-scale ban bandcamp bank bar-chart barcode bars bath battery-empty battery-full battery-half battery-quarter battery-three-quarters bed beer behance behance-square bell bell-o bell-slash bell-slash-o bicycle binoculars birthday-cake bitbucket bitbucket-square bitcoin black-tie blind bluetooth bluetooth-b bold bolt bomb book bookmark bookmark-o braille briefcase btc bug building building-o bullhorn bullseye bus buysellads cab calculator calendar calendar-check-o calendar-minus-o calendar-o calendar-plus-o calendar-times-o camera camera-retro car caret-down caret-left caret-right caret-square-o-down caret-square-o-left caret-square-o-right caret-square-o-up caret-up cart-arrow-down cart-plus cc cc-amex cc-diners-club cc-discover cc-jcb cc-mastercard cc-paypal cc-stripe cc-visa certificate chain chain-broken check check-circle check-circle-o check-square check-square-o chevron-circle-down chevron-circle-left chevron-circle-right chevron-circle-up chevron-down chevron-left chevron-right chevron-up child chrome circle circle-o circle-o-notch circle-thin clipboard clock-o clone close cloud cloud-download cloud-upload cny code code-fork codepen codiepie coffee cog cogs columns comment comment-o commenting commenting-o comments comments-o compass compress connectdevelop contao copy copyright creative-commons credit-card credit-card-alt crop crosshairs css3 cube cubes cut cutlery dashboard dashcube database deaf deafness dedent delicious desktop deviantart diamond digg dollar dot-circle-o download dribbble drivers-license drivers-license-o dropbox drupal edge edit eercast eject ellipsis-h ellipsis-v empire envelope envelope-o envelope-open envelope-open-o envelope-square envira eraser etsy eur euro exchange exclamation exclamation-circle exclamation-triangle expand expeditedssl external-link external-link-square eye eye-slash eyedropper facebook facebook-official facebook-square fast-backward fast-forward fax feed female fighter-jet file file-code-o file-excel-o file-o file-pdf-o file-picture-o file-powerpoint-o file-sound-o file-text file-text-o file-video-o file-word-o file-zip-o files-o film filter fire fire-extinguisher firefox first-order flag flag-checkered flag-o flash flask flickr floppy-o folder folder-o folder-open folder-open-o font font-awesome fonticons fort-awesome forumbee forward foursquare free-code-camp frown-o futbol-o gamepad gavel gbp ge gear gears genderless get-pocket gg gg-circle gift git git-square github github-alt github-square gitlab gittip glass glide glide-g globe google google-plus google-plus-circle google-plus-square google-wallet graduation-cap gratipay grav group h-square hacker-news hand-lizard-o hand-o-down hand-o-left hand-o-right hand-o-up hand-peace-o hand-pointer-o hand-rock-o hand-scissors-o hand-spock-o hand-stop-o handshake-o hard-of-hearing hashtag hdd-o header headphones heart heart-o heartbeat history home hospital-o hotel hourglass hourglass-end hourglass-half hourglass-o hourglass-start houzz html5 i-cursor id-badge id-card id-card-o ils image imdb inbox indent industry info info-circle inr instagram institution internet-explorer intersex ioxhost italic joomla jpy jsfiddle key keyboard-o krw language laptop lastfm lastfm-square leaf leanpub legal lemon-o level-down level-up life-ring lightbulb-o line-chart link linkedin linkedin-square linode linux list list-alt list-ol list-ul location-arrow lock long-arrow-down long-arrow-left long-arrow-right long-arrow-up low-vision magic magnet mail-forward mail-reply mail-reply-all male map map-marker map-o map-pin map-signs mars mars-double mars-stroke mars-stroke-h mars-stroke-v maxcdn meanpath medium medkit meetup meh-o mercury microchip microphone microphone-slash minus minus-circle minus-square minus-square-o mixcloud mobile modx money moon-o mortar-board motorcycle mouse-pointer music navicon neuter newspaper-o object-group object-ungroup odnoklassniki odnoklassniki-square opencart openid opera optin-monster outdent pagelines paint-brush paper-plane paper-plane-o paperclip paragraph paste pause pause-circle pause-circle-o paw paypal pencil pencil-square pencil-square-o percent phone phone-square picture-o pie-chart pied-piper pied-piper-alt pied-piper-pp pinterest pinterest-p pinterest-square plane play play-circle play-circle-o plug plus plus-circle plus-square plus-square-o podcast power-off print product-hunt puzzle-piece qq qrcode question question-circle question-circle-o quora quote-left quote-right ra random ravelry rebel recycle reddit reddit-alien reddit-square refresh registered remove renren reorder repeat reply reply-all resistance retweet rmb road rocket rotate-left rotate-right rouble rss rss-square rub ruble rupee s15 safari save scissors scribd search search-minus search-plus sellsy send send-o server share share-alt share-alt-square share-square share-square-o shekel shield ship shirtsinbulk shopping-bag shopping-basket shopping-cart shower sign-in sign-language sign-out signal signing simplybuilt sitemap skyatlas skype slack sliders slideshare smile-o snapchat snapchat-ghost snapchat-square snowflake-o soccer-ball-o sort sort-alpha-asc sort-alpha-desc sort-amount-asc sort-amount-desc sort-asc sort-desc sort-down sort-numeric-asc sort-numeric-desc sort-up soundcloud space-shuttle spinner spoon spotify square square-o stack-exchange stack-overflow star star-half star-half-o star-o steam steam-square step-backward step-forward stethoscope sticky-note sticky-note-o stop stop-circle stop-circle-o street-view strikethrough stumbleupon stumbleupon-circle subscript subway suitcase sun-o superpowers superscript support table tablet tachometer tag tags tasks taxi telegram television tencent-weibo terminal text-height text-width th th-large th-list themeisle thermometer thermometer-empty thermometer-half thermometer-quarter thermometer-three-quarters thumb-tack thumbs-down thumbs-o-down thumbs-o-up thumbs-up ticket times times-circle times-circle-o times-rectangle times-rectangle-o tint toggle-down toggle-left toggle-off toggle-on toggle-right toggle-up trademark train transgender transgender-alt trash trash-o tree trello tripadvisor trophy truck try tty tumblr tumblr-square turkish-lira tv twitch twitter twitter-square umbrella underline undo universal-access university unlink unlock unlock-alt unsorted upload usb usd user user-circle user-circle-o user-md user-o user-plus user-secret user-times users vcard vcard-o venus venus-double venus-mars viacoin viadeo viadeo-square video-camera vimeo vimeo-square vine vk volume-control-phone volume-down volume-off volume-up warning wechat weibo weixin whatsapp wheelchair wheelchair-alt wifi wikipedia-w window-close window-close-o window-maximize window-minimize window-restore windows won wordpress wpbeginner wpexplorer wpforms wrench xing xing-square yahoo yc yc-square yelp yen yoast youtube youtube-play youtube-square",a=e.split(" "),o=0;o<a.length;o++)$("#iconpicker-modal .iconsholder").append('<p class="geticonval"><i class="fa fa-'+a[o]+'" data-icon-class="'+a[o]+'"></i></p>');addSnippetListener(),$("#save-page").click(function(){var e=$("html").clone();$(e).find(".delete-button").remove(),$(e).find(".inserting-area").remove(),$(e).find("#save-page").remove(),$(e).find(".modal").remove(),$(e).find(".snippet.container").children().unwrap(),$(e).find("#content").addClass("container"),$(e).find(".editable").removeClass("editable");var a=new JSZip,o=a.folder("img"),t=0,i=function(){$(e).find("script").remove();var o=$(e).find("head");$(o).find("link").remove(),$(o).append('<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" crossorigin="anonymous">'),$(o).append('<link href="css/style.min.css" type="text/css" rel="stylesheet">'),$(o).append('<script src="https://use.fontawesome.com/a0abbbf160.js"><\/script>'),a.file("index.html",$(e).html());var t=a.folder("css");JSZipUtils.getBinaryContent("css/style.min.css",function(e,o){t.file("style.min.css",o,{binay:!0}),a.generateAsync({type:"blob"}).then(function(e){saveAs(e,"generated-page.zip")})})};0!=$(e).find(".container img").length?$.each($(e).find(".container img"),function(e,a){JSZipUtils.getBinaryContent($(a).attr("src"),function(e,s){o.file(t+".jpg",s,{binary:!0}),$(a).attr("src","img/"+t+".jpg"),++t==$(".container img").length&&i()})}):i()})});